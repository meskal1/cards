"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[285],{7942:function(e,r,n){n.d(r,{J:function(){return d}});var t=n(1087),a=n(3294),i=n(7406),s=n(9911),o=n(9565),u=n(5582),c=n(395),l="BackToPacks_backToPacks__linkPacks__ez79f",f=n(184),d=function(){var e=(0,s.T)(),r=(0,c.JU)(),n=(0,o.C)((function(e){return e.cards.queryParams.cardsPack_id})),d=(0,o.C)((function(e){return e.packs.queryParams})),m="/profile"===r.pathname?"":"?"+(0,u.u)(d,i.F7),p=new RegExp("isMyPacks=yes").test((0,u.u)(d,i.F7));return(0,f.jsx)(t.rU,{className:l,to:a.m.PACKS+m,onClick:function(){r.pathname==="/cards/"+n&&p&&e((0,i.T4)())},children:"Packs"})}},5680:function(e,r,n){n.d(r,{t:function(){return c}});var t=n(1413),a=n(5987),i=n(9417),s="CustomInput_input__4vgJw",o=n(184),u=["className","helperText"],c=function(e){var r=e.className,n=e.helperText,c=(0,a.Z)(e,u),l="".concat(s," ").concat(r||""),f=n||" ";return(0,o.jsx)(i.Z,(0,t.Z)((0,t.Z)({className:l,variant:c.variant||"standard",type:c.type||"text",fullWidth:c.fullWidth||!0},c),{},{helperText:f}))}},285:function(e,r,n){n.r(r),n.d(r,{Profile:function(){return A}});var t=n(4165),a=n(5861),i=n(2791),s=n(4855),o=n(4657),u=n(7942),c=n(1607),l=n(885),f=n(9565),d=n(4958),m=n(5680),p="EditableSpan_inputContainer__iMl27",_="EditableSpan_sendButton__jZgQo",h="EditableSpan_userName__kgfOm",v="EditableSpan_marker__jy8nl",g="EditableSpan_errorButton__JDJG1",x=n(184),k=(0,i.memo)((function(e){var r=e.changeName,n=(0,f.C)((function(e){return e.profile.userData.name})),t=(0,i.useState)(n||""),a=(0,l.Z)(t,2),s=a[0],o=a[1],u=(0,i.useState)(!1),c=(0,l.Z)(u,2),k=c[0],y=c[1],P=(0,i.useState)(!1),j=(0,l.Z)(P,2),w=j[0],N=j[1],b=(0,i.useState)(""),C=(0,l.Z)(b,2),Z=C[0],E=C[1],q=function(e){if(null===e||void 0===e||e.preventDefault(),""===(0,d.v)(s)||s.length>50)return N(!0),void E(g);y(!1),(0,d.v)(s)!==n&&r((0,d.v)(s))},T=function(){o(n||""),y(!1),N(!1)};return(0,x.jsx)(x.Fragment,{children:k?(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)(m.t,{value:s,onBlur:T,onKeyDown:function(e){"Enter"===e.key&&q(),"Escape"===e.key&&T()},onChange:function(e){""!==(0,d.v)(e.currentTarget.value)&&N(!1),o(e.currentTarget.value)},autoFocus:!0,autoComplete:"new-password",error:w||s.length>50,helperText:s.length>50?"Name should be less then 50 characters":"",InputProps:{inputProps:{style:{textAlign:"center"}}}}),(0,x.jsx)("div",{className:"".concat(_," ").concat(Z),onMouseDown:q,onClick:function(){w&&E(g)},onAnimationEnd:function(){return E("")}})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:h,children:n}),(0,x.jsx)("div",{className:v,onClick:function(){o((0,d.v)(s)),y(!0)}})]})})})),y=n(9911),P=n(4472),j=n(6732),w=n(3263),N=n(7406),b="Profile_profileContainer__TQBsh",C="Profile_profile__content__ysyQW",Z="Profile_profile__title__YLrQj",E="Profile_profile__avatarBlock__HYY4r",q="Profile_profile__pic__749ru",T="Profile_profile__img__dyT94",F="Profile_profile__avatarIcon__APPKr",R="Profile_profile__userName__7xtU4",S="Profile_profile__userEmail__UFRFm",z="Profile_profile__button__6m94J",I="Profile_profile__buttonIcon__gSWb9",D=n(1720),A=function(){var e=(0,y.T)(),r=(0,f.C)((function(e){return e.profile.userData.email})),n=(0,f.C)((function(e){return e.profile.userData.avatar})),l=(0,i.useCallback)((function(r){e((0,D.GN)({name:r}))}),[e]),d=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,i,o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.target.files){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,(0,P.f)(n);case 4:a=r.sent,i={size:n.target.files[0].size||0,type:n.target.files[0].type||"",isImageExist:!!a},o=(0,j.ap)(i).deckCover,e(o?(0,s._f)({messageText:o,messageType:"error"}):(0,D.GN)({avatar:a}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){return function(){e((0,N.zc)())}}),[]),(0,x.jsxs)("div",{className:b,children:[(0,x.jsx)(u.J,{}),(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("h2",{className:Z,children:"Personal information"}),(0,x.jsxs)("div",{className:E,children:[(0,x.jsx)("div",{className:q,children:(0,x.jsx)("img",{className:T,src:n||o,alt:"avatar"})}),(0,x.jsxs)("label",{children:[(0,x.jsx)("input",{type:"file",onChange:d,style:{display:"none"},accept:"image/*"}),(0,x.jsx)("div",{className:F})]})]}),(0,x.jsx)("div",{className:R,children:(0,x.jsx)(k,{changeName:l})}),(0,x.jsx)("p",{className:S,children:r}),(0,x.jsx)(c.o,{className:z,onClick:function(){return e((0,w.$d)())},children:(0,x.jsx)("p",{className:I,children:"Log out"})})]})]})}},4472:function(e,r,n){n.d(r,{f:function(){return i}});var t=n(4165),a=n(5861),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=r.target.files||r.dataTransfer.files)&&n.length&&n[0].size<1e5&&n[0].type.includes("image"))){e.next=8;break}return(a=new FileReader).readAsDataURL(n[0]),e.next=6,new Promise((function(e,r){a.onload=function(){return e(a.result)},a.onerror=function(e){return r(e)}}));case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},4958:function(e,r,n){n.d(r,{v:function(){return t}});var t=function(e){return e.split(" ").filter((function(e){return""!==e})).join(" ")}},6732:function(e,r,n){n.d(r,{CC:function(){return h},GB:function(){return _},ap:function(){return v},e9:function(){return m},gF:function(){return p},l9:function(){return d},x4:function(){return f}});var t=n(2797),a=t.Z_().email("Enter a valid email").max(50,"Enter a valid email").required("Email is required"),i=t.Z_().min(8,"Password must contain at least 8 characters").max(30,"Password is too long").required("Enter your password"),s=t.Z_().oneOf([t.iH("password")],"Password does not match").required("Confirm your password"),o=t.O7(),u=t.Z_().max(100,"Question should be less then 100 characters").required("Question is required"),c=t.Z_().max(100,"Answer should be less then 100 characters").required("Answer is required"),l=t.Z_().max(100,"Name should be less then 100 characters").required("Pack name is required"),f=t.Ry({email:a,password:i,rememberMe:o}),d=t.Ry({email:a,password:i,confirmPassword:s}),m=t.Ry({password:i}),p=t.Ry({email:a}),_=t.Ry({question:u,answer:c}),h=t.Ry({name:l}),v=function(e){var r={};return!e.selectedItem||e.size||e.isImageExist?e.type&&!new RegExp(e.type,"gi").test(["image/jpeg","image/png","image/jpg","image/gif","image/webp","image/svg"].join(","))?(r.questionImg="Unsupported file format",r.deckCover="Unsupported file format",r):e.size&&e.size>1e5?(r.questionImg="File size is more than 100kb",r.deckCover="File size is more than 100kb",r):r:(r.questionImg="Question image is required",r)}}}]);
//# sourceMappingURL=285.83fbaba5.chunk.js.map