"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[484],{6977:function(e,n,t){t.d(n,{l:function(){return r},q:function(){return o}});var a=t(6916),r=(0,a.P1)((function(e){return e.packs.tableData}),(function(e){return e.length>0})),o=(0,a.P1)([function(e){return e.cards.cardsData.packUserId},function(e){return e.profile.userData.id}],(function(e,n){return e===n}))},7942:function(e,n,t){t.d(n,{J:function(){return d}});var a=t(1087),r=t(3294),o=t(7406),i=t(4122),s=t(5582),c=t(395),l="BackToPacks_backToPacks__linkPacks__ez79f",u=t(184),d=function(){var e=(0,c.JU)(),n=(0,i.C)((function(e){return e.packs.queryParams})),t="/profile"===e.pathname?"":"?"+(0,s.u)(n,o.F7);return(0,u.jsx)(a.rU,{className:l,to:r.m.PACKS+t,children:"Packs"})}},5680:function(e,n,t){t.d(n,{t:function(){return l}});var a=t(1413),r=t(5987),o=t(550),i="CustomInput_input__4vgJw",s=t(184),c=["className","helperText"],l=function(e){var n=e.className,t=e.helperText,l=(0,r.Z)(e,c),u="".concat(i," ").concat(n||""),d=t||" ";return(0,s.jsx)(o.Z,(0,a.Z)((0,a.Z)({className:u,variant:l.variant||"standard",type:l.type||"text",fullWidth:l.fullWidth||!0},l),{},{helperText:d}))}},3745:function(e,n,t){t.d(n,{$:function(){return f}});var a=t(9987),r=t(8316),o=t(172),i=t(7406),s=t(4122),c=t(885),l=t(2791),u=function(e){var n=function(e){return"undefined"!==typeof window&&window.matchMedia(e).matches},t=(0,l.useState)(n(e)),a=(0,c.Z)(t,2),r=a[0],o=a[1];function i(){o(n(e))}return(0,l.useEffect)((function(){var n=window.matchMedia(e);return i(),n.addListener?n.addListener(i):n.addEventListener("change",i),function(){n.removeListener?n.removeListener(i):n.removeEventListener("change",i)}}),[e]),r},d="CustomPagination_paginationContainer__0Y+sw",p="CustomPagination_paginationTable__htEVR",m=t(184),f=function(e){var n=e.forCards,t=void 0!==n&&n,c=(0,s.T)(),l=(0,s.C)((function(e){return t?e.cards.status:e.packs.status})),f=(0,s.C)((function(e){return e.packs.queryParams.page})),_=(0,s.C)((function(e){return e.cards.queryParams.page})),h=(0,s.C)((function(e){return e.packs.queryParams.pageCount})),v=(0,s.C)((function(e){return e.cards.queryParams.pageCount})),k=(0,s.C)((function(e){return e.cards.cardsData.cardsTotalCount})),C=(0,s.C)((function(e){return e.packs.packsData.cardPacksTotalCount})),x=t?_:f,g=t?v:h,b=Math.ceil(t?k/v:C/h),j=t?k>4:C>4,P=u("(max-width: 599px)"),y=u("(max-width: 472px)"),w=u("(max-width: 374px)"),N=function(e){c(t?(0,o.az)(e):(0,i.qw)(e))};return(0,m.jsxs)("div",{className:d,children:[b<=1?null:(0,m.jsx)(a.Z,{disabled:"loading"===l,count:b,shape:"circular",color:"primary",onChange:function(e,n){return N({page:n})},page:x,size:w?"small":"medium",hidePrevButton:P,hideNextButton:P}),j?(0,m.jsx)(r.Z,{className:p,component:"div",labelRowsPerPage:y?"":"Rows per page",labelDisplayedRows:function(){return""},count:101,page:-1===x?0:1,onPageChange:function(){},rowsPerPage:g,rowsPerPageOptions:[4,8,12,16,30,50,100],ActionsComponent:function(){return null},onRowsPerPageChange:function(e){N({pageCount:+e.target.value,page:1})},SelectProps:{disabled:"loading"===l}}):null]})}},3379:function(e,n,t){t.d(n,{N:function(){return h}});var a=t(885),r=t(2791),o=t(550),i=t(172),s=t(7406),c=t(4122),l=t(282),u=t(4229),d="CustomSearch_searchContainer__i+W9a",p="CustomSearch_search__placeholder__O+aX4",m="CustomSearch_search__placeholderAnimate__GVaMc",f="CustomSearch_search__input__XRkjf",_=t(184),h=function(e){var n=e.forCards,t=void 0!==n&&n,h=(0,c.T)(),v=(0,u.v)(),k=(0,c.C)((function(e){return e.packs.queryParams.search})),C=(0,c.C)((function(e){return e.cards.queryParams.cardQuestion})),x=(0,r.useState)(v.search||v.cardQuestion||""),g=(0,a.Z)(x,2),b=g[0],j=g[1],P=function(e,n){var t=(0,r.useState)(e),o=(0,a.Z)(t,2),i=o[0],s=o[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){return s(e)}),n||700);return function(){clearTimeout(t)}}),[e,n]),i}(b);return(0,l.V)((function(){t?C!==b&&h((0,i.az)({cardQuestion:b})):k!==b&&h((0,s.qw)({search:b}))}),[P]),(0,l.V)((function(){j(v.search||v.cardQuestion||"")}),[v.search,v.cardQuestion]),(0,l.V)((function(){k||j("")}),[k]),(0,_.jsxs)("label",{className:d,children:[(0,_.jsx)("p",{className:"".concat(p," ").concat(b?m:""),children:t?"Search by question":"Search by name"}),(0,_.jsx)(o.Z,{className:f,value:b,variant:"outlined",type:"search",autoComplete:"off",onChange:function(e){j(e.currentTarget.value)}})]})}},8142:function(e,n,t){t.d(n,{A:function(){return _}});var a=t(885),r=t(2791),o=t(282),i="CustomSelect_select__fjUBm",s="CustomSelect_selected__nAJle",c="CustomSelect_opened__d1kj8",l="CustomSelect_options__6baiE",u="CustomSelect_optionsLeft__GpfKK",d="CustomSelect_option__jHXSW",p=t(5325),m=t(184),f=function(e){var n=e.parentRef,t=e.options,a=e.closeMenu,o=e.handleClickOption,i=e.positionOptions,s=(0,r.useRef)();return(0,p.t)(a,s,n),(0,m.jsx)("ul",{ref:s,className:"left"===i?u:l,onClick:a,children:t.map((function(e,n){return(0,m.jsx)("li",{onMouseDown:function(n){return o(n,e.id)},className:d,children:e.label},n)}))})},_=(0,r.memo)((function(e){var n=e.initValue,t=e.reset,l=void 0!==t&&t,u=e.options,d=e.selectedOption,p=e.positionOptions,_=void 0===p?"center":p,h=u.filter((function(e){return e.id===n}))[0].label,v=(0,r.useState)(h),k=(0,a.Z)(v,2),C=k[0],x=k[1],g=(0,r.useState)(!1),b=(0,a.Z)(g,2),j=b[0],P=b[1],y=(0,r.useRef)(),w=function(){return P(!j)};return(0,o.V)((function(){l&&x(h)}),[l]),(0,m.jsxs)("div",{ref:y,className:i,onClick:w,onKeyDown:function(e){"Enter"===e.key&&w()},tabIndex:2,children:[(0,m.jsx)("p",{className:"".concat(s," ").concat(j?c:""),children:C}),j&&(0,m.jsx)(f,{parentRef:y,positionOptions:_,options:u,handleClickOption:function(e,n){x(e.currentTarget.textContent),d(n)},closeMenu:w})]})}))},7358:function(e,n,t){t.d(n,{U:function(){return c}});var a=t(1441),r=t(9773),o=t(2952),i=t(807),s=t(184),c=function(e){var n=e.columnsCount,t=e.rowsCount,c=e.withActions,l=new Array(void 0!==c&&c?n+1:n).fill("").map((function(e,n){return(0,s.jsx)(o.Z,{children:(0,s.jsx)(a.Z,{animation:"pulse",height:35})},n)})),u=new Array(t).fill("").map((function(e,n){return(0,s.jsx)(i.Z,{children:l},n)}));return(0,s.jsx)(r.Z,{children:u})}},824:function(e,n,t){t.d(n,{E:function(){return f}});var a=t(4122),r="CustomTableHead_headCellTitle__81uXu",o="CustomTableHead_tablePacks__head__uEZX5",i="CustomTableHead_tablePacks__headRow__2qhlm",s="CustomTableHead_tablePacks__headCell__GDWrE",c="CustomTableHead_headCellContainer__mDJu8",l="CustomTableHead_actionCell__tLL0b",u="CustomTableHead_gradeCell__4Aig2",d="CustomTableHead_sortArrowUp__+6NuH",p="CustomTableHead_sortArrowDown__eDqKf",m=t(184),f=function(e){var n=e.heads,t=e.forCards,f=void 0!==t&&t,_=e.withActions,h=void 0!==_&&_,v=(0,a.C)((function(e){return f?e.cards.queryParams.sortCards:e.packs.queryParams.sortPacks})),k=v.slice(0,1),C=v.slice(1),x=+k?d:p;return(0,m.jsx)("thead",{className:o,children:(0,m.jsxs)("tr",{className:i,children:[n.map((function(e){return(0,m.jsx)("th",{className:"Grade"===e.label?u:s,scope:"col",children:(0,m.jsx)("div",{className:c,children:(0,m.jsx)("span",{className:"".concat(r," ").concat(C===e.id?x:""),children:e.label})})},e.id)})),(0,m.jsx)("th",{className:h?s:l,scope:"col"})]})})}},6329:function(e,n,t){t.d(n,{C:function(){return le}});var a=t(885),r=t(2791),o=t(6977),i=t(3222),s=t(4122),c=t(395),l=t(7942),u=t(1607),d=t(1413),p=t(1091),m=t(6582),f=t(7406),_="PackOwnerSwitcher_switcherContainer__C-K6U",h="PackOwnerSwitcher_switcher__title__nhtu-",v="PackOwnerSwitcher_switcher__block__nfE+f",k="PackOwnerSwitcher_switcher__blockItem__9ogFb",C="PackOwnerSwitcher_active__w99qF",x=t(184),g=function(){var e=(0,s.T)(),n=(0,s.C)((function(e){return e.packs.queryParams.isMyPacks}));return(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("p",{className:h,children:"Owner"}),(0,x.jsxs)(m.Z,{className:v,disableElevation:!0,variant:"text",children:[(0,x.jsx)(p.Z,{disabled:!!n,className:"".concat(k," ").concat(n?C:""),onClick:function(){return e((0,f.qw)((0,d.Z)((0,d.Z)({},f.F7),{},{isMyPacks:"yes"})))},children:(0,x.jsx)("p",{children:"My"})}),(0,x.jsx)(p.Z,{disabled:!n,className:"".concat(k," ").concat(n?"":C),onClick:function(){return e((0,f.qw)(f.F7))},children:(0,x.jsx)("p",{children:"All"})})]})]})},b=t(282),j=t(9501),P=t(2451),y=t(3457),w=t(2065),N="#99CCF3",Z="#3399FF",T="#66B2FF",O="#007FFF",A="#afb8c1",q="#57606a",S=(0,y.Z)(j.Z)((function(e){var n=e.theme;return"\n\t color: ".concat("light"===n.palette.mode?O:T,";\n\t height: 6px;\n\t width: 100%;\n\t padding: 16px 0;\n\t display: inline-block;\n\t position: relative;\n\t cursor: pointer;\n\t touch-action: none;\n\t -webkit-tap-highlight-color: transparent;\n  \n\t &:hover {\n\t\topacity: 1;\n\t }\n  \n\t &.").concat(P.Z.disabled," { \n\t\tpointer-events: none;\n\t\tcursor: default;\n\t\tcolor: ").concat("light"===n.palette.mode?A:q,";\n\t\topacity: 0.5;\n\t }\n  \n\t & .").concat(P.Z.rail," {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tborder-radius: 2px;\n\t\tbackground-color: currentColor;\n\t\topacity: 0.4;\n\t }\n  \n\t & .").concat(P.Z.track," {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\theight: 4px;\n\t\tborder-radius: 2px;\n\t\tbackground-color: currentColor;\n\t }\n  \n\t & .").concat(P.Z.thumb," {\n\t\tposition: absolute;\n\t\twidth: 16px;\n\t\theight: 16px;\n\t\tmargin-left: -6px;\n\t\tmargin-top: -6px;\n\t\tbox-sizing: border-box;\n\t\tborder-radius: 50%;\n\t\toutline: 0;\n\t\tborder: 3px solid currentColor;\n\t\tbackground-color: #fff;\n  \n\t\t:hover,\n\t\t&.").concat(P.Z.focusVisible," {\n\t\t  box-shadow: 0 0 0 0.25rem ").concat((0,w.Fq)("light"===n.palette.mode?Z:T,.15),";\n\t\t}\n  \n\t\t&.").concat(P.Z.active," {\n\t\t  box-shadow: 0 0 0 0.25rem ").concat((0,w.Fq)("light"===n.palette.mode?N:T,.3),";\n\t\t}\n\t }\n  \n\t & .").concat(P.Z.mark," {\n\t\tposition: absolute;\n\t\twidth: 4px;\n\t\theight: 4px;\n\t\tborder-radius: 2px;\n\t\tbackground-color: currentColor;\n\t\ttop: 50%;\n\t\topacity: 0.7;\n\t\ttransform: translateX(-50%);\n\t }\n  \n\t & .").concat(P.Z.markActive," {\n\t\tbackground-color: #fff;\n\t }\n  \n\t & .").concat(P.Z.valueLabel," {\n\t\tfont-family: IBM Plex Sans;\n\t\tfont-size: 14px;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: -1.6em;\n\t\ttext-align: center;\n\t\ttransform: translateX(-50%);\n\t }\n  ")})),E="PackSlider_sliderContainer__6gwYF",B="PackSlider_slider__D06Uk",M="PackSlider_slider__title__6u9If",D="PackSlider_slider__block__riSPd",R="PackSlider_slider__number__KcdYx",F=function(){var e=(0,s.T)(),n=(0,s.C)((function(e){return e.packs.queryParams.min})),t=(0,s.C)((function(e){return e.packs.queryParams.max})),o=(0,s.C)((function(e){return e.packs.packsData.minCardsCount})),i=(0,s.C)((function(e){return e.packs.packsData.maxCardsCount})),c=(0,r.useState)([n||o,t||i]),l=(0,a.Z)(c,2),u=l[0],d=l[1];return(0,b.V)((function(){d([n||o,t||i])}),[o,i,n,t]),(0,x.jsxs)("div",{className:E,children:[(0,x.jsx)("p",{className:M,children:"Amount of cards"}),(0,x.jsxs)("div",{className:D,children:[(0,x.jsx)("div",{className:R,children:u[0]}),(0,x.jsx)(S,{className:B,value:u,onChange:function(e,n){return d(n)},disableSwap:!0,min:o,max:i,onChangeCommitted:function(){u[0]!==u[1]&&e((0,f.qw)({min:u[0],max:u[1]}))}}),(0,x.jsx)("div",{className:R,children:u[1]})]})]})},I="PacksResetFilter_packsResetFilter__6n1Ps",L=function(){var e=(0,s.T)(),n=(0,s.C)((function(e){return e.packs.status}));return(0,x.jsx)("div",{className:I,onClick:function(){"idle"===n&&e((0,f.zc)())},children:"Reset"})},z=t(6492),U=t(5325),H=t(172),V=t(5582),W=t(8142),K="SortTableItems_packsSortContainer__W1e0h",X="SortTableItems_packsSortTitle__x2EJm",J=[{id:"0name",label:"Pack name A-z"},{id:"1name",label:"Pack name Z-a"},{id:"0user_name",label:"Created by A-z"},{id:"1user_name",label:"Created by Z-a"},{id:"1cardsCount",label:"Cards ascending"},{id:"0cardsCount",label:"Cards descending"},{id:"1updated",label:"Older packs"},{id:"0updated",label:"Newer packs"}],Q=[{id:"0question",label:"Question A-z"},{id:"1question",label:"Question Z-a"},{id:"0answer",label:"Answer A-z"},{id:"1answer",label:"Answer Z-a"},{id:"1updated",label:"Older question"},{id:"0updated",label:"Newer question"},{id:"0grade",label:"Lower grade"},{id:"1grade",label:"Higher grade"}],Y=function(e){var n=e.forCards,t=void 0!==n&&n,a=(0,s.T)(),o=(0,s.C)((function(e){return e.packs.queryParams})),i=(0,V.u)(o,f.F7),c=t?Q:J,l=0===Object.keys(i).length||"isMyPacks=yes"===i,u=(0,s.C)((function(e){return t?e.cards.queryParams.sortCards:e.packs.queryParams.sortPacks})),d=(0,r.useCallback)((function(e){a(t?(0,H.az)({sortCards:e}):(0,f.qw)({sortPacks:e}))}),[]);return(0,x.jsxs)("div",{className:K,children:[(0,x.jsx)("p",{className:X,children:"Sort items"}),(0,x.jsx)(W.A,{initValue:u,reset:l,options:c,selectedOption:d})]})},G="FiltersComponent_filtersConainer__9kYxJ",$="FiltersComponent_switcherContainer__uVVPW",ee=function(e){var n=e.parentRef,t=e.forCards,a=void 0!==t&&t,o=e.closeMenu,i=(0,r.useRef)();return(0,U.t)(o,i,n),(0,z.q)(o),(0,x.jsx)("div",{ref:i,className:G,children:a?(0,x.jsx)(Y,{forCards:!0}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{}),(0,x.jsx)(F,{}),(0,x.jsxs)("div",{className:$,children:[(0,x.jsx)(g,{}),(0,x.jsx)(L,{})]})]})})},ne="PageTitleBlock_pageTitleBlockContainer__TZcWP",te="PageTitleBlock_pageTitleBlock__content__XAXrx",ae="PageTitleBlock_pageTitleBlock__titleBlock__-vzA3",re="PageTitleBlock_pageTitleBlock__title__GUU9P",oe="PageTitleBlock_filterButtonContainer__9WveT",ie="PageTitleBlock_filterButton__b0oO6",se="PageTitleBlock_learnButton__LWmxa",ce="PageTitleBlock_addButton__VUmnx",le=(0,r.memo)((function(e){var n=e.linkToPacks,t=void 0!==n&&n,d=e.hasButtons,p=void 0===d||d,m=e.title,f=void 0===m?"Packs list":m,_=e.buttonClick,h=(0,c.JU)(),v=h.pathname.split("/cards/")[1],k=(0,s.C)((function(e){return e.cards.cardsData.cardsTotalCount})),C=(0,s.C)(o.q),g=(0,r.useState)(!1),b=(0,a.Z)(g,2),j=b[0],P=b[1],y=new RegExp("/cards").test(h.pathname),w=(0,r.useRef)(),N=y?"".concat(C?"Add new card":"Learn to pack"):"Add new pack",Z=function(){return P((function(e){return!e}))};return(0,x.jsxs)("div",{className:ne,children:[t&&(0,x.jsx)(l.J,{}),(0,x.jsxs)("div",{className:te,children:[(0,x.jsxs)("div",{className:ae,children:[(0,x.jsx)("h2",{className:re,children:f}),C&&(0,x.jsx)(i.M,{packID:v,packName:f,packIsEmpty:!!k})]}),p&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:oe,children:(0,x.jsxs)("div",{ref:w,children:[j&&(0,x.jsx)(ee,{parentRef:w,closeMenu:Z,forCards:t}),(0,x.jsx)(u.o,{className:ie,onClick:Z,children:(0,x.jsx)("p",{children:"Add filter"})})]})}),(0,x.jsx)(u.o,{className:"Learn to pack"===N?se:ce,onClick:_,children:(0,x.jsx)("p",{children:N})})]})]})]})}))},4001:function(e,n,t){t.d(n,{V:function(){return c}});var a=t(6910),r=t(8298),o=t(4346),i="Dialog_container__DW96z",s=t(184),c=function(e){var n=e.title,t=e.primaryColor,c=e.onOkButtonText,l=e.children,u=e.onOk,d=e.onCloseButtonText,p=e.isOpened,m=e.onClose;return(0,s.jsx)(o.I,{isOpened:p,onClose:m,children:(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)(r.g,{title:n,onClose:m}),l,(0,s.jsx)(a.n,{primaryColor:t,primaryButtonText:c,primaryButtonOnClick:u,secondaryButtonText:d,secondaryButtonOnClick:m})]})})}},6910:function(e,n,t){t.d(n,{n:function(){return u}});var a=t(4122),r=t(1607),o="FooterModal_container__37l3S",i="FooterModal_colorWhite__Af0Aj",s="FooterModal_colorBlue__1iAqa",c="FooterModal_colorRed__+WSZh",l=t(184),u=function(e){var n=e.primaryColor,t=e.primaryButtonText,u=void 0===t?"Submit":t,d=e.primaryButtonOnClick,p=e.secondaryButtonText,m=void 0===p?"Cancel":p,f=e.secondaryButtonOnClick,_=(0,a.C)((function(e){return e.packs.status})),h=(0,a.C)((function(e){return e.cards.status})),v="loading"===_||"loading"===h,k=i;switch(n){case"white":default:k=i;break;case"red":k=c;break;case"blue":k=s}return(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)(r.o,{disabled:v,onClick:f,children:m}),(0,l.jsx)(r.o,{disabled:v,className:k,onClick:d,children:u})]})}},8298:function(e,n,t){t.d(n,{g:function(){return s}});var a="HeaderModal_conteiner__F54+d",r="HeaderModal_title__zNIL3",o="HeaderModal_button__qYEyN",i=t(184),s=function(e){var n=e.title,t=e.onClose;return(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)("h2",{className:r,children:n}),(0,i.jsx)("div",{className:o,onClick:t,onKeyDown:function(e){"Enter"===e.key&&t()},role:"button",tabIndex:1})]})}},8726:function(e,n,t){t.d(n,{N:function(){return c}});var a=t(6910),r=t(8298),o=t(4346),i="MainPopup_container__39hXy",s=t(184),c=function(e){var n=e.title,t=e.className,c=e.onOkButtonText,l=e.onOk,u=e.onCloseButtonText,d=e.children,p=e.isOpened,m=e.onClose;return(0,s.jsx)(o.I,{isOpened:p,onClose:m,children:(0,s.jsxs)("div",{className:"".concat(i," ").concat(t||""),children:[(0,s.jsx)(r.g,{title:n,onClose:m}),d,(0,s.jsx)(a.n,{primaryButtonText:c,primaryButtonOnClick:l,secondaryButtonText:u,secondaryButtonOnClick:m})]})})}},4346:function(e,n,t){t.d(n,{I:function(){return m}});var a=t(8822),r=t(6492),o=t(885),i=t(2791),s=t(4164),c=function(e){var n=e.children,t=(0,i.useState)((function(){return document.createElement("div")})),a=(0,o.Z)(t,1)[0];return a.className="portal",(0,i.useEffect)((function(){return document.body.appendChild(a),document.body.style.overflow="hidden",function(){document.body.removeChild(a),document.body.removeAttribute("style")}}),[]),(0,s.createPortal)(n,a)},l="OverlayingPopup_container__C54HS",u="OverlayingPopup_overlay__FoBLb",d="OverlayingPopup_focusLock__x0o6U",p=t(184),m=function(e){var n=e.children,t=e.isOpened,o=e.onClose;return t?((0,r.q)(o),(0,p.jsx)(c,{children:(0,p.jsx)(a.ZP,{disabled:!1,className:d,children:(0,p.jsxs)("div",{className:l,role:"dialog",children:[(0,p.jsx)("div",{className:u,role:"button",onClick:o}),n]})})})):null}},2377:function(e,n,t){t.d(n,{Y:function(){return q}});var a=t(4165),r=t(5861),o=t(1413),i=t(885),s=t(2791),c=t(6378),l=t(7831),u=t(5473),d=t(5705),p=t(1835),m=t.n(p),f=t(5680),_=t(8726),h=t(4122),v=t(4472),k=t(395),C=t(6732),x=t(172),g=t(7406),b="AddEditPack_addImageBlock__3hNpf",j="AddEditPack_privateAndRemoveContainer__65YpO",P="AddEditPack_removeImageButton__eh3Xe",y="AddEditPack_dargOver__ParJA",w="AddEditPack_addImageBlockTitle__VoEKH",N="AddEditPack_hidden__iGEWg",Z="AddEditPack_imageContainer__orTuf",T="AddEditPack_image__g+KO5",O="AddEditPack_checkbox__B+BMM",A=t(184),q=function(e){var n=e.isOpened,t=e.onClose,p=e.packData,q=(0,k.JU)(),S=new RegExp("/cards").test(q.pathname),E=(0,h.T)(),B=(0,h.C)((function(e){return e.cards.cardsData})),M=S?B.packPrivate:null===p||void 0===p?void 0:p.private,D=m()((null===p||void 0===p?void 0:p.deckCover)||"",{mimeRequired:!0}),R=(0,s.useState)(D?null===p||void 0===p?void 0:p.deckCover:""),F=(0,i.Z)(R,2),I=F[0],L=F[1],z=(0,s.useState)(null),U=(0,i.Z)(z,2),H=U[0],V=U[1],W=(0,s.useState)(!1),K=(0,i.Z)(W,2),X=K[0],J=K[1],Q=(0,s.useRef)(),Y={size:(null===H||void 0===H?void 0:H.size)||0,type:(null===H||void 0===H?void 0:H.type)||"",isImageExist:!!I},G={deckCover:"",name:(null===p||void 0===p?void 0:p.name)||"",private:M||!1},$=(0,d.TA)({initialValues:G,validationSchema:C.uj,validate:function(){return(0,C.ap)(Y)},onSubmit:function(e){var n=H||I?I:" ",a=e.name!==G.name,r=e.private!==G.private,i=(0,o.Z)((0,o.Z)({},B),{},{packPrivate:e.private,packDeckCover:n||""});p&&(H||a||r||D&&!I)&&(S&&E((0,x.po)(i)),E((0,g.uT)((0,o.Z)((0,o.Z)({},e),{},{id:(null===p||void 0===p?void 0:p.id)||"",deckCover:n})))),p||E((0,g.Nb)((0,o.Z)((0,o.Z)({},e),{},{deckCover:I}))),t()}}),ee=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,"files"in n.target&&n.target.files?V(n.target.files[0]):"dataTransfer"in n&&V(n.dataTransfer.files[0]),e.next=5,(0,v.f)(n);case 5:t=e.sent,$.setFieldValue("deckCover"," "),$.setTouched((0,o.Z)((0,o.Z)({},$.touched),{},{deckCover:!0})),L(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error File Upload: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){setTimeout((function(){var e;return null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.focus()}),50)}),[]),(0,A.jsx)(_.N,{title:p?"Edit pack":"Add new pack",onOkButtonText:p?"Update":"Create",onOk:$.handleSubmit,isOpened:n,onClose:t,children:(0,A.jsxs)("form",{onSubmit:$.handleSubmit,children:[(0,A.jsx)(f.t,(0,o.Z)({inputRef:Q,label:"Name",autoComplete:"new-password",error:$.touched.name&&!!$.errors.name,helperText:$.touched.name&&$.errors.name,onKeyDown:function(e){"Enter"===e.key&&$.handleSubmit()}},$.getFieldProps("name"))),(0,A.jsxs)("label",{className:"".concat(b," ").concat(X?y:""),onDragOver:function(e){e.preventDefault(),J(!0)},onDragLeave:function(){return J(!1)},onDrop:ee,children:[(0,A.jsxs)("p",{className:w,children:["Drag your image here or click to upload.",(0,A.jsx)("br",{}),"File size should be less than 0.5MB"]}),(0,A.jsx)(f.t,(0,o.Z)((0,o.Z)({type:"file",inputProps:{accept:".jpg,.jpeg,.gif,.png,.webp"},className:N,error:$.touched.deckCover&&!!$.errors.deckCover,helperText:$.touched.deckCover&&$.errors.deckCover},$.getFieldProps("deckCover")),{},{value:"",onChange:ee})),!!I&&(0,A.jsx)("div",{className:Z,children:(0,A.jsx)("img",{src:I,alt:"cover",className:T})})]}),(0,A.jsxs)("div",{className:j,children:[(0,A.jsxs)("label",{className:O,children:[(0,A.jsx)(u.Z,(0,o.Z)({size:"medium",style:$.values.private?{color:"#1B79CE "}:{color:"grey "},checked:$.values.private,icon:(0,A.jsx)(c.Z,{}),checkedIcon:(0,A.jsx)(l.Z,{})},$.getFieldProps("private"))),"Private"]}),I&&(0,A.jsx)("div",{className:P,onClick:function(){L(""),V(null)},children:"Remove"})]})]})})}},3222:function(e,n,t){t.d(n,{M:function(){return T}});var a=t(1413),r=t(885),o=t(2791),i=t(3294),s=t(4122),c=t(395),l=t(2377),u=t(4165),d=t(5861),p=t(4001),m=t(6479),f=t(5582),_=t(7406),h=t(184),v=function(e){var n=e.isOpened,t=e.onClose,a=e.packData,r=(0,s.T)(),o=(0,c.JU)(),l=(0,c.DU)(),v=(0,s.C)((function(e){return e.packs.queryParams})),k=(0,f.u)(v,_.F7),C=new RegExp("isMyPacks=yes").test(k)?"?isMyPacks=yes":"?"+k,x=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r((0,_.V5)(a.id));case 2:/cards/gi.test(o.pathname)&&l(i.m.PACKS+C),t();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.P)(x),(0,h.jsx)(p.V,{title:"Delete pack",primaryColor:"red",onOkButtonText:"Delete",onOk:x,isOpened:n,onClose:t,children:(0,h.jsxs)("span",{children:["Are you sure you want to delete Pack: ",(0,h.jsx)("b",{children:a.name}),"? ",(0,h.jsx)("br",{}),"All cards will be deleted."]})})},k="PackActionsMenu_menuContainer__H97fe",C="PackActionsMenu_menu__NWrWg",x="PackActionsMenu_openMenuRight__mq36c",g="PackActionsMenu_openMenuLeft__pXSMK",b="PackActionsMenu_openItemRight__OXx92",j="PackActionsMenu_openItemLeft__M6Ej2",P="PackActionsMenu_disableLearn__n5Ffq",y="PackActionsMenu_menuItem__O2h4E",w=t(6492),N=t(5325),Z=function(e){var n=e.parentRef,t=e.handleLearn,a=e.handleEdit,r=e.handleDelete,i=e.closeMenu,s=e.packIsEmpty,c=e.openToLeft,l="".concat(y," ").concat(c?j:b),u=(0,o.useRef)();return(0,N.t)(i,u,n),(0,w.q)(i),(0,h.jsxs)("ul",{ref:u,className:C,onClick:i,children:[(0,h.jsx)("li",{className:"".concat(l," ").concat(s?"":P),onMouseDown:t}),(0,h.jsx)("li",{className:l,onMouseDown:a}),(0,h.jsx)("li",{className:l,onMouseDown:r})]})},T=function(e){var n=e.deckCover,t=e.isPrivate,u=void 0!==t&&t,d=e.openToLeft,p=void 0!==d&&d,m=e.packID,f=e.packName,_=e.packIsEmpty,C=(0,s.C)((function(e){return e.cards.cardsData.packDeckCover})),b=(0,c.DU)(),j=(0,o.useState)(!1),P=(0,r.Z)(j,2),y=P[0],w=P[1],N=y?"".concat(p?g:x):"",T={deleteOpened:!1,editOpened:!1},O=(0,o.useState)(T),A=(0,r.Z)(O,2),q=A[0],S=A[1],E=(0,o.useRef)(),B={id:m,private:u||!1,name:f,deckCover:n||C||""},M=function(){return w(!y)},D=function(){return S(T)};return(0,h.jsxs)(h.Fragment,{children:[q.editOpened&&(0,h.jsx)(l.Y,{isOpened:q.editOpened,onClose:D,packData:B}),q.deleteOpened&&(0,h.jsx)(v,{isOpened:q.deleteOpened,onClose:D,packData:B}),(0,h.jsx)("div",{ref:E,className:"".concat(k," ").concat(N),onMouseDown:M,children:y&&(0,h.jsx)(Z,{parentRef:E,handleLearn:function(){_&&b(i.m.LEARN+"/".concat(m))},handleEdit:function(){return S((0,a.Z)((0,a.Z)({},q),{},{editOpened:!q.editOpened}))},handleDelete:function(){return S((0,a.Z)((0,a.Z)({},q),{},{deleteOpened:!q.deleteOpened}))},closeMenu:M,packIsEmpty:_,openToLeft:p})})]})}},6479:function(e,n,t){t.d(n,{P:function(){return r}});var a=t(2791),r=function(e){var n=(0,a.useCallback)((function(n){"Enter"===n.key&&e()}),[e]);(0,a.useEffect)((function(){return document.addEventListener("keyup",n,!1),function(){document.removeEventListener("keyup",n,!1)}}),[n])}},4472:function(e,n,t){t.d(n,{f:function(){return o}});var a=t(4165),r=t(5861),o=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.files||n.dataTransfer.files)&&t.length&&t[0].size<5e5&&t[0].type.includes("image"))){e.next=8;break}return(r=new FileReader).readAsDataURL(t[0]),e.next=6,new Promise((function(e,n){r.onload=function(){return e(r.result)},r.onerror=function(e){return n(e)}}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},6732:function(e,n,t){t.d(n,{Fm:function(){return h},M8:function(){return v},_E:function(){return _},ap:function(){return C},nv:function(){return m},tA:function(){return f},uj:function(){return k}});var a=t(7103),r=a.Z_().required("Required"),o=r,i=a.Z_().email("Enter a valid email").required("Email is required"),s=a.Z_().min(8,"Password must contain at least 8 characters").required("Enter your password"),c=a.Z_().oneOf([a.iH("password")],"Password does not match").required("Confirm your password"),l=a.O7(),u=a.Z_().max(100,"Question should be less then 100 characters").required("Question is required"),d=a.Z_().max(100,"Answer should be less then 100 characters").required("Answer is required"),p=a.Z_().max(100,"Name should be less then 100 characters").required("Pack name is required"),m=a.Ry({email:i,password:s,rememberMe:l}),f=a.Ry({email:i,password:s,confirmPassword:c}),_=(a.Ry({name:r,avatar:o}),a.Ry({password:s})),h=a.Ry({email:i}),v=a.Ry({question:u,answer:d}),k=a.Ry({name:p}),C=function(e){var n={};return!e.selectedItem||e.size||e.isImageExist?e.type&&!new RegExp(e.type,"gi").test(["image/jpeg","image/png","image/jpg","image/gif","image/webp"].join(","))?(n.questionImg="Unsupported file format",n.deckCover="Unsupported file format",n):e.size&&e.size>5e5?(n.questionImg="File size is more than 0.5MB",n.deckCover="File size is more than 0.5MB",n):n:(n.questionImg="Question image is required",n)}}}]);
//# sourceMappingURL=484.ef3efed3.chunk.js.map