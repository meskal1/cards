"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[390],{7942:function(e,n,r){r.d(n,{J:function(){return v}});var o=r(498),t=r(7689),a=r(1087),i=r(3294),c=r(7406),s=r(4122),l=r(2794),u="BackToPacks_backToPacks__linkPacks__EiQax",d="BackToPacks_backToPacks__arrow__AT0Eb",f=r(184),v=function(){var e=(0,t.TH)(),n=(0,s.C)((function(e){return e.packs.queryParams})),r="/profile"===e.pathname?"":"?"+(0,l.v)(n,c.F7);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(a.rU,{className:u,to:i.m.PACKS+r,children:[(0,f.jsx)(o.Z,{className:d}),(0,f.jsx)("p",{children:"back to packs list"})]})})}},1311:function(e,n,r){r.d(n,{c:function(){return u}});var o=r(6739),t="CustomModalDialog_Modal__lDGUA",a="CustomModalDialog_Modal__Active__MQRSM",i="CustomModalDialog_Content__lWwgO",c="CustomModalDialog_Content__Active__TLIc9",s="CustomModalDialog_Close__zn+gr",l=r(184),u=function(e){var n=e.active,r=e.setActive,u=e.children;return(0,l.jsx)("div",{className:n?"".concat(a," ").concat(t):t,onClick:r?function(){return r(!1)}:function(){},children:(0,l.jsxs)("div",{className:n?"".concat(c," ").concat(i):i,onClick:function(e){return e.stopPropagation()},children:[r?(0,l.jsx)("div",{className:s,children:(0,l.jsx)(o.Z,{onClick:r?function(){return r(!1)}:function(){}})}):"",u]})})}},390:function(e,n,r){r.r(n),r.d(n,{Learn:function(){return pe}});var o=r(1413),t=r(4165),a=r(5861),i=r(885),c=r(2791),s=r(1898),l=r(120),u=r(7462),d=r(3366),f=r(8182),v=r(4419),h=r(277),m=r(5513),p=r(5878),Z=r(1217);function g(e){return(0,Z.Z)("MuiFormGroup",e)}(0,p.Z)("MuiFormGroup",["root","row","error"]);var x=r(529),C=r(40),_=r(184),j=["className","row"],k=(0,h.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,r.row&&n.row]}})((function(e){var n=e.ownerState;return(0,u.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})})),b=c.forwardRef((function(e,n){var r=(0,m.Z)({props:e,name:"MuiFormGroup"}),o=r.className,t=r.row,a=void 0!==t&&t,i=(0,d.Z)(r,j),c=(0,x.Z)(),s=(0,C.Z)({props:r,muiFormControl:c,states:["error"]}),l=(0,u.Z)({},r,{row:a,error:s.error}),h=function(e){var n=e.classes,r={root:["root",e.row&&"row",e.error&&"error"]};return(0,v.Z)(r,g,n)}(l);return(0,_.jsx)(k,(0,u.Z)({className:(0,f.Z)(h.root,o),ownerState:l,ref:n},i))})),S=r(7933),w=r(5178);var N=c.createContext(void 0),M=r(1853),y=["actions","children","defaultValue","name","onChange","value"],P=c.forwardRef((function(e,n){var r=e.actions,o=e.children,t=e.defaultValue,a=e.name,s=e.onChange,l=e.value,f=(0,d.Z)(e,y),v=c.useRef(null),h=(0,w.Z)({controlled:l,default:t,name:"RadioGroup"}),m=(0,i.Z)(h,2),p=m[0],Z=m[1];c.useImperativeHandle(r,(function(){return{focus:function(){var e=v.current.querySelector("input:not(:disabled):checked");e||(e=v.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var g=(0,S.Z)(n,v),x=(0,M.Z)(a),C=c.useMemo((function(){return{name:x,onChange:function(e){Z(e.target.value),s&&s(e,e.target.value)},value:p}}),[x,s,Z,p]);return(0,_.jsx)(N.Provider,{value:C,children:(0,_.jsx)(b,(0,u.Z)({role:"radiogroup",ref:g},f,{children:o}))})})),R=r(2900),F=r(4942),T=r(2065),z=r(7278),E=r(1245),I=(0,E.Z)((0,_.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),A=(0,E.Z)((0,_.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),L=(0,h.ZP)("span")({position:"relative",display:"flex"}),D=(0,h.ZP)(I)({transform:"scale(1)"}),B=(0,h.ZP)(A)((function(e){var n=e.theme,r=e.ownerState;return(0,u.Z)({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})})}));var q=function(e){var n=e.checked,r=void 0!==n&&n,o=e.classes,t=void 0===o?{}:o,a=e.fontSize,i=(0,u.Z)({},e,{checked:r});return(0,_.jsxs)(L,{className:t.root,ownerState:i,children:[(0,_.jsx)(D,{fontSize:a,className:t.background,ownerState:i}),(0,_.jsx)(B,{fontSize:a,className:t.dot,ownerState:i})]})},G=r(9853),O=r(5311);function U(e){return(0,Z.Z)("MuiRadio",e)}var H=(0,p.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),Q=["checked","checkedIcon","color","icon","name","onChange","size","className"],K=(0,h.ZP)(z.Z,{shouldForwardProp:function(e){return(0,h.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["color".concat((0,G.Z)(r.color))]]}})((function(e){var n=e.theme,r=e.ownerState;return(0,u.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,T.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(0,F.Z)({},"&.".concat(H.checked),{color:(n.vars||n).palette[r.color].main}),(0,F.Z)({},"&.".concat(H.disabled),{color:(n.vars||n).palette.action.disabled}))}));var V=(0,_.jsx)(q,{checked:!0}),W=(0,_.jsx)(q,{}),J=c.forwardRef((function(e,n){var r,o,t,a,i=(0,m.Z)({props:e,name:"MuiRadio"}),s=i.checked,l=i.checkedIcon,h=void 0===l?V:l,p=i.color,Z=void 0===p?"primary":p,g=i.icon,x=void 0===g?W:g,C=i.name,j=i.onChange,k=i.size,b=void 0===k?"medium":k,S=i.className,w=(0,d.Z)(i,Q),M=(0,u.Z)({},i,{color:Z,size:b}),y=function(e){var n=e.classes,r=e.color,o={root:["root","color".concat((0,G.Z)(r))]};return(0,u.Z)({},n,(0,v.Z)(o,U,n))}(M),P=c.useContext(N),R=s,F=(0,O.Z)(j,P&&P.onChange),T=C;return P&&("undefined"===typeof R&&(t=P.value,R="object"===typeof(a=i.value)&&null!==a?t===a:String(t)===String(a)),"undefined"===typeof T&&(T=P.name)),(0,_.jsx)(K,(0,u.Z)({type:"radio",icon:c.cloneElement(x,{fontSize:null!=(r=W.props.fontSize)?r:b}),checkedIcon:c.cloneElement(h,{fontSize:null!=(o=V.props.fontSize)?o:b}),ownerState:M,classes:y,name:T,checked:R,onChange:F,ref:n,className:(0,f.Z)(y.root,S)},w))})),X=r(1091),Y=r(5705),$=r(9434),ee=r(7689),ne=r(7942),re=r(2599),oe=r(1311),te=r(4122),ae={MainContainer:"Learn_MainContainer__RfIGy",learnContainer:"Learn_learnContainer__7QsiW",ButtonContainer:"Learn_ButtonContainer__4m7lL"},ie=r(828),ce=r(3294),se=r(2794),le=r(7406),ue="NoCardsToLearn_MainContainer__GD08u",de="NoCardsToLearn_Message__vpqhI",fe="NoCardsToLearn_ButtonContainer__QQH+p",ve=function(){var e=(0,ee.s0)(),n=(0,te.C)((function(e){return e.packs.queryParams})),r="?"+(0,se.v)(n,le.F7);return(0,_.jsxs)("div",{className:ue,children:[(0,_.jsx)("p",{className:de,children:"No cards left in current Pack, you can choose another Pack from the list to learn"}),(0,_.jsx)("div",{className:fe,children:(0,_.jsx)(X.Z,{variant:"contained",onClick:function(){return e(ce.m.PACKS+r)},children:"Choose next Pack"})})]})},he={_id:"",cardsPack_id:"",user_id:"",answer:"",question:"",grade:0,shots:0,comments:"",type:"",rating:0,more_id:"",created:"",updated:"",__v:0},me=[{grade:"1",title:"Did not know"},{grade:"2",title:"Forgot"},{grade:"3",title:"A lot of thought"},{grade:"4",title:"Confused"},{grade:"5",title:"Knew the answer"}],pe=function(){var e=(0,ee.UO)().packId,n=(0,ee.TH)(),r=(0,te.T)(),u=(0,te.C)((function(e){return e.learn.isInitialized}));console.log("Location",n);var d=(0,c.useState)(he),f=(0,i.Z)(d,2),v=f[0],h=f[1],m=(0,c.useState)(!1),p=(0,i.Z)(m,2),Z=p[0],g=p[1],x=(0,c.useState)(!1),C=(0,i.Z)(x,2),j=C[0],k=C[1],b=(0,$.v9)((function(e){return e.learn.cards})),S=(0,c.useState)(n.state?n.state.cardId:""),w=(0,i.Z)(S,2),N=w[0],M=w[1];console.log("Cards: ",b);var y=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,r((0,ie.vm)({cardsPack_id:e}));case 3:return console.log("First useEffect"),n.abrupt("return");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,c.useEffect)((function(){y()}),[]),console.log("AFTER FIRST USEEFECT CAARDS: ",b),(0,c.useEffect)((function(){var e;if(N){for(var n=0;n<b.length;n++)b[n]._id===N&&(e=b[n]);console.log("SELECTED ",e),e&&(h(e),M(""))}else if(0===b.length&&u)k(!0);else{var r=function(e){var n=e.reduce((function(e,n){return e+(6-n.grade)*(6-n.grade)}),0),r=Math.random()*n,o=e.reduce((function(e,n,o){var t=e.sum+(6-n.grade)*(6-n.grade);return{sum:t,id:t<r?o:e.id}}),{sum:0,id:-1});return e[o.id+1]}(b);h(r)}}),[b]),(0,c.useEffect)((function(){return function(){r((0,ie.UK)({initialized:!1}))}}),[]);var F=function(){return g(!Z)},T=(0,Y.TA)({initialValues:{grade:""},validate:function(e){e.grade},onSubmit:function(e){F(),r((0,ie.hd)({card_id:v._id,grade:+e.grade}))}});return console.log("IS INITILIZED: ",u),(0,_.jsx)(_.Fragment,{children:u?(0,_.jsxs)("div",{className:ae.mainContainer,children:[(0,_.jsx)(ne.J,{}),(0,_.jsxs)("div",{className:ae.learnContainer,children:[(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Question:"})," ",v&&v.question]}),(0,_.jsx)("br",{}),(0,_.jsxs)("p",{children:[" Number of attempts: ",v?v.shots:""]}),(0,_.jsx)("br",{}),Z?(0,_.jsxs)("div",{children:[(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Answer:"})," ",v&&v.answer]}),(0,_.jsx)("br",{}),(0,_.jsxs)("form",{onSubmit:T.handleSubmit,children:[(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(l.Z,{id:"demo-radio-buttons-group-label",children:"Rate yourself"}),(0,_.jsx)(P,(0,o.Z)((0,o.Z)({"aria-labelledby":"demo-radio-buttons-group-label"},T.getFieldProps("grade")),{},{children:me.map((function(e){return(0,_.jsx)(R.Z,{value:e.grade,control:(0,_.jsx)(J,{}),label:e.title},e.grade)}))}))]}),(0,_.jsx)("div",{className:ae.ButtonContainer,children:(0,_.jsx)(X.Z,{type:"submit",variant:"contained",disabled:!!T.errors.grade,children:"Next"})})]})]}):(0,_.jsx)("div",{className:ae.ButtonContainer,children:(0,_.jsx)(X.Z,{type:"button",variant:"contained",onClick:F,children:"Show Answer"})})]}),j?(0,_.jsx)(oe.c,{active:j,children:(0,_.jsx)(ve,{})}):""]}):(0,_.jsx)(re.A,{})})}},2794:function(e,n,r){r.d(n,{v:function(){return o}});var o=function(e,n){var r=new URLSearchParams,o=Object.entries(e),t=Object.entries(n);return o.forEach((function(e,n){o[n][1]!==t[n][1]&&r.append(o[n][0],o[n][1].toString())})),r.toString()}},6739:function(e,n,r){var o=r(1245),t=r(184);n.Z=(0,o.Z)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},498:function(e,n,r){var o=r(1245),t=r(184);n.Z=(0,o.Z)((0,t.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace")},5311:function(e,n,r){var o=r(8949);n.Z=o.Z}}]);
//# sourceMappingURL=390.76da8e62.chunk.js.map