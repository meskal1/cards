{"version":3,"file":"static/js/561.48b11d61.chunk.js","mappings":"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","sources":["webpack://cards/./src/common/components/CustomInput/CustomInput.module.scss?ad3d","common/components/CustomInput/CustomInput.tsx","webpack://cards/./src/features/auth/Recovery/Recovery.module.scss?5874","features/auth/Recovery/Recovery.tsx","utils/validationSchema.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"CustomInput_input__4vgJw\"};","import { FC } from 'react'\r\n\r\nimport { TextField, TextFieldProps } from '@mui/material'\r\n\r\nimport s from './CustomInput.module.scss'\r\n\r\ntype CustomInputPropsType = TextFieldProps & {\r\n  value: string //Use our value to control input and also because value in MUI has unknown type\r\n}\r\n\r\nexport const CustomInput: FC<CustomInputPropsType> = ({ className, helperText, ...props }) => {\r\n  const finalClass = `${s.input} ${className ? className : ''}`\r\n  const errorText = helperText || ' '\r\n\r\n  return (\r\n    <TextField\r\n      className={finalClass}\r\n      variant={props.variant || 'standard'}\r\n      type={props.type || 'text'}\r\n      fullWidth={props.fullWidth || true}\r\n      {...props}\r\n      helperText={errorText}\r\n    />\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"forgotPassword\":\"Recovery_forgotPassword__eomcr\",\"form\":\"Recovery_form__+Z1XI\",\"help\":\"Recovery_help__oWZ1a\",\"title\":\"Recovery_title__mo5n8\",\"forgotQuestion\":\"Recovery_forgotQuestion__CSlgv\",\"forgotLink\":\"Recovery_forgotLink__rAn4I\"};","import { useFormik } from 'formik'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nimport { RequestStatusType } from '../../../app/appSlice'\r\nimport { CustomButton } from '../../../common/components/CustomButton/CustomButton'\r\nimport { CustomInput } from '../../../common/components/CustomInput/CustomInput'\r\nimport { PATH } from '../../../constants/routePaths.enum'\r\nimport { useAppDispatch } from '../../../hooks/useAppDispatch'\r\nimport { useAppSelector } from '../../../hooks/useAppSelector'\r\nimport { forgotPassword } from '../../../utils/validationSchema'\r\nimport { forgotPasswordTC } from '../authSlice'\r\n\r\nimport s from './Recovery.module.scss'\r\n\r\nexport const Recovery = () => {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n  const authStatus = useAppSelector<RequestStatusType>(state => state.auth.status)\r\n\r\n  const { handleSubmit, getFieldProps, errors, touched } = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n    },\r\n    validationSchema: forgotPassword,\r\n    onSubmit: async values => {\r\n      const isForgotPasswordSucceeded = await dispatch(forgotPasswordTC(values.email))\r\n\r\n      if (isForgotPasswordSucceeded.payload) {\r\n        navigate(PATH.CHECK_EMAIL)\r\n      }\r\n    },\r\n  })\r\n\r\n  return (\r\n    <div className={s.forgotPassword}>\r\n      <h2 className={s.title}>Forgot your password?</h2>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <CustomInput\r\n          label={'Email'}\r\n          error={!!errors.email && touched.email}\r\n          helperText={touched.email && errors.email}\r\n          {...getFieldProps('email')}\r\n        />\r\n        <p className={s.help}>Enter your email address and we will send you further instructions</p>\r\n        <CustomButton disabled={authStatus === 'loading'} fullWidth>\r\n          <p>Send instructions</p>\r\n        </CustomButton>\r\n      </form>\r\n      <p className={s.forgotQuestion}>Have you remembered your password?</p>\r\n      <Link className={s.forgotLink} to={PATH.LOGIN}>\r\n        Try logging in\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n","import * as yup from 'yup'\r\n\r\nconst email = yup\r\n  .string()\r\n  .email('Enter a valid email')\r\n  .max(50, 'Enter a valid email')\r\n  .required('Email is required')\r\nconst password = yup\r\n  .string()\r\n  .min(8, 'Password must contain at least 8 characters')\r\n  .max(30, 'Password is too long')\r\n  .required('Enter your password')\r\nconst confirmPassword = yup\r\n  .string()\r\n  .oneOf([yup.ref('password')], 'Password does not match')\r\n  .required('Confirm your password')\r\nconst rememberMe = yup.boolean()\r\nconst question = yup\r\n  .string()\r\n  .max(100, 'Question should be less then 100 characters')\r\n  .required('Question is required')\r\nconst answer = yup\r\n  .string()\r\n  .max(100, 'Answer should be less then 100 characters')\r\n  .required('Answer is required')\r\nconst packName = yup\r\n  .string()\r\n  .max(100, 'Name should be less then 100 characters')\r\n  .required('Pack name is required')\r\n\r\nexport const login = yup.object({ email, password, rememberMe })\r\n\r\nexport const registration = yup.object({ email, password, confirmPassword })\r\n\r\nexport const newPassword = yup.object({ password })\r\n\r\nexport const forgotPassword = yup.object({ email })\r\n\r\nexport const newCardText = yup.object({ question, answer })\r\n\r\nexport const newPackText = yup.object({ name: packName })\r\n\r\nexport const validateImage = (imgData: ValidateImageType) => {\r\n  const formats = ['image/jpeg', 'image/png', 'image/jpg', 'image/gif', 'image/webp', 'image/svg']\r\n  const error: { questionImg?: string; deckCover?: string } = {}\r\n\r\n  if (imgData.selectedItem && !imgData.size && !imgData.isImageExist) {\r\n    error.questionImg = 'Question image is required'\r\n\r\n    return error\r\n  }\r\n\r\n  if (imgData.type && !new RegExp(imgData.type, 'gi').test(formats.join(','))) {\r\n    error.questionImg = 'Unsupported file format'\r\n    error.deckCover = 'Unsupported file format'\r\n\r\n    return error\r\n  }\r\n\r\n  if (imgData.size && imgData.size > 100000) {\r\n    error.questionImg = 'File size is more than 100kb'\r\n    error.deckCover = 'File size is more than 100kb'\r\n\r\n    return error\r\n  }\r\n\r\n  return error\r\n}\r\n\r\ntype ValidateImageType = {\r\n  size: number\r\n  type: string\r\n  selectedItem?: boolean\r\n  isImageExist: boolean\r\n}\r\n"],"names":["CustomInput","className","helperText","props","finalClass","s","errorText","TextField","variant","type","fullWidth","Recovery","dispatch","useAppDispatch","navigate","useNavigate","authStatus","useAppSelector","state","auth","status","useFormik","initialValues","email","validationSchema","forgotPassword","onSubmit","values","forgotPasswordTC","payload","PATH","handleSubmit","getFieldProps","errors","touched","label","error","CustomButton","disabled","to","yup","max","required","password","min","confirmPassword","oneOf","rememberMe","question","answer","packName","login","registration","newPassword","newCardText","newPackText","name","validateImage","imgData","selectedItem","size","isImageExist","RegExp","test","join","questionImg","deckCover"],"sourceRoot":""}