"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[556],{454:function(e,a,t){t.r(a),t.d(a,{Packs:function(){return $}});var n=t(885),c=t(2791),r=t(3745),o=t(3379),s=t(1311),i=t(8015),l=t(4122),d=t(4229),u=t(4165),m=t(1413),p=t(5861),v=t(2900),_=t(1091),h=t(5473),k=t(550),b=t(5705),f=t(5694),x=t(7406),C={Container:"AddPack_Container__EiQb0",Error:"AddPack_Error__TiJ4Q",Error__active:"AddPack_Error__active__C0eXe",Title:"AddPack_Title__LLTD+",Submit:"AddPack_Submit__ARNls"},j=t(184),y=function(e){var a=e.activeModal,t=(0,c.useState)(!0),r=(0,n.Z)(t,2),o=r[0],s=r[1],i=(0,c.useState)({name:""}),d=(0,n.Z)(i,2),y=d[0],Z=d[1],P=(0,c.useState)(""),N=(0,n.Z)(P,2),g=N[0],T=N[1],S=(0,l.T)(),w=(0,b.TA)({initialValues:{name:"",private:!1},validate:function(e){return Z({}),e.name?e.name.length>50?(Z({name:"Name should be less then 50 characters"}),s(!0)):s(!1):(Z({name:"Required"}),s(!0)),{}},onSubmit:function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((0,x.Nb)((0,m.Z)((0,m.Z)({},t),{},{deckCover:g||""})));case 2:a(!1),document.body.style.overflow="unset",w.resetForm();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()});return(0,j.jsx)("div",{className:C.Container,children:(0,j.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,j.jsx)("h3",{className:C.Title,children:"Add Pack"}),(0,j.jsx)("div",{className:C.FormFields,children:(0,j.jsx)(k.Z,(0,m.Z)((0,m.Z)({margin:"dense"},w.getFieldProps("name")),{},{size:"small",label:"name"}))}),(0,j.jsx)("div",{className:w.touched.name&&y.name?"".concat(C.Error," ").concat(C.Error__active):"".concat(C.Error),children:y.name}),g?(0,j.jsx)("div",{className:f.Z.ImageContainer,children:(0,j.jsx)("img",{src:g,alt:"cover",className:f.Z.Image})}):"",(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"file",hidden:!0,onChange:function(e){if(e.target.files&&e.target.files.length){var a=e.target.files[0];if(a.size<4e6&&a.type.includes("image")){var t=new FileReader;t.onload=function(){var e=t.result;T(e)},t.readAsDataURL(a)}}},accept:"image/*"}),(0,j.jsx)(_.Z,{variant:"contained",className:f.Z.FormFields,component:"span",children:"Add Pack Cover"})]}),(0,j.jsx)("div",{children:(0,j.jsx)(v.Z,{control:(0,j.jsx)(h.Z,(0,m.Z)({checked:w.values.private},w.getFieldProps("private"))),label:"Private"})}),(0,j.jsxs)("div",{className:C.Submit,children:[(0,j.jsx)(_.Z,{onClick:function(){a(!1),document.body.style.overflow="unset"},type:"button",variant:"outlined",children:"Cancel"}),(0,j.jsx)(_.Z,{type:"submit",variant:"contained",disabled:o,children:"Create"})]})]})})},Z="Packs_packsContainer__inpxZ",P="Packs_packs__controlBlock__t1mOy",N=t(6977),g=t(7358),T=t(824),S="PacksTable_emptyTableTitle__qAzq6",w="PacksTable_tablePacks__NKytf",A=t(7892),B=t.n(A),z=t(1835),E=t.n(z),F=t(1087),I=t(3294),M=t(395),R=t(4407),D="PacksTableBody_packImageWrapper__igyw8",L="PacksTableBody_packName__5R5ye",q="PacksTableBody_packNameAdaptive__UmHCp",H="PacksTableBody_packImage__PyUN8",O="PacksTableBody_tablePacks__body__ukNlG",U="PacksTableBody_tablePacks__bodyRow__Indab",V="PacksTableBody_tablePacks__bodyCell__DSqMF",Y="PacksTableBody_tablePacks__bodyCellTitle__CJvep",Q="PacksTableBody_tablePacks__bodyCellContent__plP0T",G="PacksTableBody_linkToLearnActive__Q5gph",J="PacksTableBody_linkToLearnDisabled__bLr6a",K=function(e){var a=e.heads,t=(0,l.C)((function(e){return e.packs.tableData})),n=(0,l.C)((function(e){return e.profile.userData.id})),c=(0,M.DU)();return(0,j.jsx)("tbody",{className:O,children:t.map((function(e){return(0,j.jsxs)("tr",{className:U,children:[a.map((function(a,t){var n=E()(e.deckCover,{mimeRequired:!0});return(0,j.jsx)("td",{className:V,scope:"row",onClick:function(){return a=e._id,void("loading"!==e.requestStatus&&c(I.m.CARDS+"/".concat(a)));var a},children:(0,j.jsxs)("div",{className:Q,children:[(0,j.jsx)("div",{className:Y,children:0===t?e[a.id]:a.label}),"name"===a.id&&n&&(0,j.jsx)("div",{className:D,children:(0,j.jsx)("img",{src:e.deckCover,alt:"deckCover",className:H})}),(0,j.jsx)("p",{className:"".concat(q," ").concat("name"===a.id&&n?L:""),children:"updated"===a.id?B()(e[a.id]).format("DD.MM.YYYY"):e[a.id]})]})},a.id)})),(0,j.jsx)("td",{className:V,children:n===e.more_id?(0,j.jsx)(R.M,{packID:e._id,packName:e.name,openToLeft:!0,packIsEmpty:!!e.cardsCount}):(0,j.jsx)(F.rU,{className:0===e.cardsCount?J:G,to:I.m.LEARN+"/".concat(e._id)})})]},e._id)}))})},W=[{id:"name",label:"Name"},{id:"user_name",label:"Created by"},{id:"cardsCount",label:"Cards"},{id:"updated",label:"Last updated"}],X=function(){var e=(0,l.C)((function(e){return e.packs.status})),a=(0,l.C)(N.lG),t=(0,l.C)((function(e){return e.packs.queryParams.pageCount}));return(0,j.jsx)(j.Fragment,{children:a||"loading"===e?(0,j.jsxs)("table",{className:w,children:[(0,j.jsx)(T.E,{heads:W,withActions:!0}),"loading"===e?(0,j.jsx)(g.U,{columnsCount:W.length+1,rowsCount:t}):(0,j.jsx)(K,{heads:W})]}):(0,j.jsx)("p",{className:S,children:"No packs found."})})},$=function(){var e=(0,l.T)(),a=(0,d.v)(),t=(0,c.useState)(!1),u=(0,n.Z)(t,2),m=u[0],p=u[1];return(0,c.useEffect)((function(){0===Object.keys(a).length&&e((0,x.T4)())}),[]),(0,j.jsxs)("div",{className:Z,children:[(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(i.C,{title:"Packs list",button:"Add new pack",buttonClick:function(){p(!0),document.body.style.overflow="hidden"}}),(0,j.jsx)(o.N,{})]}),(0,j.jsx)(X,{}),(0,j.jsx)(r.$,{}),m?(0,j.jsx)(s.c,{active:m,setActive:p,children:(0,j.jsx)(y,{activeModal:p})}):""]})}},5473:function(e,a,t){t.d(a,{Z:function(){return T}});var n=t(4942),c=t(3366),r=t(7462),o=t(2791),s=t(8182),i=t(4419),l=t(2065),d=t(7278),u=t(1245),m=t(184),p=(0,u.Z)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),v=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),_=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=t(9853),k=t(5513),b=t(277),f=t(5878),x=t(1217);function C(e){return(0,x.Z)("MuiCheckbox",e)}var j=(0,f.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Z=(0,b.ZP)(d.Z,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,a){var t=e.ownerState;return[a.root,t.indeterminate&&a.indeterminate,"default"!==t.color&&a["color".concat((0,h.Z)(t.color))]]}})((function(e){var a,t=e.theme,c=e.ownerState;return(0,r.Z)({color:(t.vars||t).palette.text.secondary},!c.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===c.color?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)("default"===c.color?t.palette.action.active:t.palette[c.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==c.color&&(a={},(0,n.Z)(a,"&.".concat(j.checked,", &.").concat(j.indeterminate),{color:(t.vars||t).palette[c.color].main}),(0,n.Z)(a,"&.".concat(j.disabled),{color:(t.vars||t).palette.action.disabled}),a))})),P=(0,m.jsx)(v,{}),N=(0,m.jsx)(p,{}),g=(0,m.jsx)(_,{}),T=o.forwardRef((function(e,a){var t,n,l=(0,k.Z)({props:e,name:"MuiCheckbox"}),d=l.checkedIcon,u=void 0===d?P:d,p=l.color,v=void 0===p?"primary":p,_=l.icon,b=void 0===_?N:_,f=l.indeterminate,x=void 0!==f&&f,j=l.indeterminateIcon,T=void 0===j?g:j,S=l.inputProps,w=l.size,A=void 0===w?"medium":w,B=l.className,z=(0,c.Z)(l,y),E=x?T:b,F=x?T:u,I=(0,r.Z)({},l,{color:v,indeterminate:x,size:A}),M=function(e){var a=e.classes,t=e.indeterminate,n=e.color,c={root:["root",t&&"indeterminate","color".concat((0,h.Z)(n))]},o=(0,i.Z)(c,C,a);return(0,r.Z)({},a,o)}(I);return(0,m.jsx)(Z,(0,r.Z)({type:"checkbox",inputProps:(0,r.Z)({"data-indeterminate":x},S),icon:o.cloneElement(E,{fontSize:null!=(t=E.props.fontSize)?t:A}),checkedIcon:o.cloneElement(F,{fontSize:null!=(n=F.props.fontSize)?n:A}),ownerState:I,ref:a,className:(0,s.Z)(M.root,B)},z,{classes:M}))}))}}]);
//# sourceMappingURL=556.04e4281a.chunk.js.map