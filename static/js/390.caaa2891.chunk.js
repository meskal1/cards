"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[390],{9695:function(e,r,n){n.d(r,{J:function(){return m}});var o=n(1245),t=n(184),a=(0,o.Z)((0,t.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace"),i=n(1087),s=n(3294),c=n(7406),l=n(4122),u=n(5582),d=n(395),f="BackToPacks_backToPacks__linkPacks__ez79f",v="BackToPacks_backToPacks__arrow__L0n+Y",m=function(){var e=(0,d.JU)(),r=(0,l.C)((function(e){return e.packs.queryParams})),n="/profile"===e.pathname?"":"?"+(0,u.u)(r,c.F7);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.rU,{className:f,to:s.m.PACKS+n,children:[(0,t.jsx)(a,{className:v}),(0,t.jsx)("p",{children:"Back to packs list"})]})})}},1311:function(e,r,n){n.d(r,{c:function(){return u}});var o=n(6739),t="CustomModalDialog_Modal__SpffU",a="CustomModalDialog_Modal__Active__AUQMT",i="CustomModalDialog_Content__ABBkh",s="CustomModalDialog_Content__Active__6qZH1",c="CustomModalDialog_Close__-rl3E",l=n(184),u=function(e){var r=e.active,n=e.setActive,u=e.children;return(0,l.jsx)("div",{className:r?"".concat(a," ").concat(t):t,onClick:function(){n&&n(!1),document.body.style.overflow="unset"},children:(0,l.jsxs)("div",{className:r?"".concat(s," ").concat(i):i,onClick:function(e){return e.stopPropagation()},children:[n?(0,l.jsx)("div",{className:c,children:(0,l.jsx)(o.Z,{onClick:n?function(){return n(!1)}:function(){}})}):"",u]})})}},390:function(e,r,n){n.r(r),n.d(r,{Learn:function(){return Ze}});var o=n(1413),t=n(4165),a=n(5861),i=n(885),s=n(2791),c=n(1898),l=n(120),u=n(7462),d=n(3366),f=n(8182),v=n(4419),m=n(277),h=n(5513),p=n(5878),Z=n(1217);function x(e){return(0,Z.Z)("MuiFormGroup",e)}(0,p.Z)("MuiFormGroup",["root","row","error"]);var C=n(529),g=n(40),_=n(184),j=["className","row"],k=(0,m.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,n.row&&r.row]}})((function(e){var r=e.ownerState;return(0,u.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})})),w=s.forwardRef((function(e,r){var n=(0,h.Z)({props:e,name:"MuiFormGroup"}),o=n.className,t=n.row,a=void 0!==t&&t,i=(0,d.Z)(n,j),s=(0,C.Z)(),c=(0,g.Z)({props:n,muiFormControl:s,states:["error"]}),l=(0,u.Z)({},n,{row:a,error:c.error}),m=function(e){var r=e.classes,n={root:["root",e.row&&"row",e.error&&"error"]};return(0,v.Z)(n,x,r)}(l);return(0,_.jsx)(k,(0,u.Z)({className:(0,f.Z)(m.root,o),ownerState:l,ref:r},i))})),b=n(7933),S=n(5178);var y=s.createContext(void 0),M=n(1853),N=["actions","children","defaultValue","name","onChange","value"],P=s.forwardRef((function(e,r){var n=e.actions,o=e.children,t=e.defaultValue,a=e.name,c=e.onChange,l=e.value,f=(0,d.Z)(e,N),v=s.useRef(null),m=(0,S.Z)({controlled:l,default:t,name:"RadioGroup"}),h=(0,i.Z)(m,2),p=h[0],Z=h[1];s.useImperativeHandle(n,(function(){return{focus:function(){var e=v.current.querySelector("input:not(:disabled):checked");e||(e=v.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var x=(0,b.Z)(r,v),C=(0,M.Z)(a),g=s.useMemo((function(){return{name:C,onChange:function(e){Z(e.target.value),c&&c(e,e.target.value)},value:p}}),[C,c,Z,p]);return(0,_.jsx)(y.Provider,{value:g,children:(0,_.jsx)(w,(0,u.Z)({role:"radiogroup",ref:x},f,{children:o}))})})),F=n(2900),R=n(4942),z=n(2065),T=n(7278),A=n(1245),B=(0,A.Z)((0,_.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),E=(0,A.Z)((0,_.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),I=(0,m.ZP)("span")({position:"relative",display:"flex"}),L=(0,m.ZP)(B)({transform:"scale(1)"}),q=(0,m.ZP)(E)((function(e){var r=e.theme,n=e.ownerState;return(0,u.Z)({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})})}));var D=function(e){var r=e.checked,n=void 0!==r&&r,o=e.classes,t=void 0===o?{}:o,a=e.fontSize,i=(0,u.Z)({},e,{checked:n});return(0,_.jsxs)(I,{className:t.root,ownerState:i,children:[(0,_.jsx)(L,{fontSize:a,className:t.background,ownerState:i}),(0,_.jsx)(q,{fontSize:a,className:t.dot,ownerState:i})]})},U=n(9853),V=n(5311);function G(e){return(0,Z.Z)("MuiRadio",e)}var H=(0,p.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),K=["checked","checkedIcon","color","icon","name","onChange","size","className"],O=(0,m.ZP)(T.Z,{shouldForwardProp:function(e){return(0,m.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["color".concat((0,U.Z)(n.color))]]}})((function(e){var r=e.theme,n=e.ownerState;return(0,u.Z)({color:(r.vars||r).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:r.vars?"rgba(".concat("default"===n.color?r.vars.palette.action.activeChannel:r.vars.palette[n.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,z.Fq)("default"===n.color?r.palette.action.active:r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(0,R.Z)({},"&.".concat(H.checked),{color:(r.vars||r).palette[n.color].main}),(0,R.Z)({},"&.".concat(H.disabled),{color:(r.vars||r).palette.action.disabled}))}));var J=(0,_.jsx)(D,{checked:!0}),Q=(0,_.jsx)(D,{}),W=s.forwardRef((function(e,r){var n,o,t,a,i=(0,h.Z)({props:e,name:"MuiRadio"}),c=i.checked,l=i.checkedIcon,m=void 0===l?J:l,p=i.color,Z=void 0===p?"primary":p,x=i.icon,C=void 0===x?Q:x,g=i.name,j=i.onChange,k=i.size,w=void 0===k?"medium":k,b=i.className,S=(0,d.Z)(i,K),M=(0,u.Z)({},i,{color:Z,size:w}),N=function(e){var r=e.classes,n=e.color,o={root:["root","color".concat((0,U.Z)(n))]};return(0,u.Z)({},r,(0,v.Z)(o,G,r))}(M),P=s.useContext(y),F=c,R=(0,V.Z)(j,P&&P.onChange),z=g;return P&&("undefined"===typeof F&&(t=P.value,F="object"===typeof(a=i.value)&&null!==a?t===a:String(t)===String(a)),"undefined"===typeof z&&(z=P.name)),(0,_.jsx)(O,(0,u.Z)({type:"radio",icon:s.cloneElement(C,{fontSize:null!=(n=Q.props.fontSize)?n:w}),checkedIcon:s.cloneElement(m,{fontSize:null!=(o=J.props.fontSize)?o:w}),ownerState:M,classes:N,name:z,checked:F,onChange:R,ref:r,className:(0,f.Z)(N.root,b)},S))})),Y=n(1091),X=n(5705),$=n(9434),ee=n(7689),re=n(9695),ne=n(2599),oe=n(1311),te=n(4122),ae={MainContainer:"Learn_MainContainer__uubzB",learnContainer:"Learn_learnContainer__IFtfy",ButtonContainer:"Learn_ButtonContainer__Mbkii"},ie=n(828),se=n(3294),ce=n(5582),le=n(395),ue=n(7406),de="NoCardsToLearn_MainContainer__T3nVv",fe="NoCardsToLearn_Message__WwfQ1",ve="NoCardsToLearn_ButtonContainer__62odU",me=function(){var e=(0,le.DU)(),r=(0,te.C)((function(e){return e.packs.queryParams})),n="?"+(0,ce.u)(r,ue.F7);return(0,_.jsxs)("div",{className:de,children:[(0,_.jsx)("p",{className:fe,children:"No cards left in current Pack, you can choose another Pack from the list to learn"}),(0,_.jsx)("div",{className:ve,children:(0,_.jsx)(Y.Z,{variant:"contained",onClick:function(){return e(se.m.PACKS+n)},children:"Choose next Pack"})})]})},he={_id:"",cardsPack_id:"",user_id:"",answer:"",question:"",grade:0,shots:0,comments:"",type:"",rating:0,more_id:"",created:"",updated:"",__v:0,answerImg:"",answerVideo:"",questionImg:"",questionVideo:""},pe=[{grade:"1",title:"Did not know"},{grade:"2",title:"Forgot"},{grade:"3",title:"A lot of thought"},{grade:"4",title:"Confused"},{grade:"5",title:"Knew the answer"}],Ze=function(){var e=(0,ee.UO)().packId,r=(0,ee.TH)(),n=(0,te.T)(),u=(0,te.C)((function(e){return e.learn.isInitialized}));console.log("Location",r);var d=(0,s.useState)(he),f=(0,i.Z)(d,2),v=f[0],m=f[1],h=(0,s.useState)(!1),p=(0,i.Z)(h,2),Z=p[0],x=p[1],C=(0,s.useState)(!1),g=(0,i.Z)(C,2),j=g[0],k=g[1],w=(0,$.v9)((function(e){return e.learn.cards})),b=(0,s.useState)(r.state?r.state.cardId:""),S=(0,i.Z)(b,2),y=S[0],M=S[1];console.log("Cards: ",w);var N=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=3;break}return r.next=3,n((0,ie.vm)(e));case 3:return console.log("First useEffect"),r.abrupt("return");case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();(0,s.useEffect)((function(){N()}),[]),console.log("AFTER FIRST USEEFECT CAARDS: ",w),(0,s.useEffect)((function(){var e;if(y){for(var r=0;r<w.length;r++)w[r]._id===y&&(e=w[r]);console.log("SELECTED ",e),e&&(m(e),M(""))}else if(0===w.length&&u)k(!0);else{var n=function(e){var r=e.reduce((function(e,r){return e+(6-r.grade)*(6-r.grade)}),0),n=Math.random()*r,o=e.reduce((function(e,r,o){var t=e.sum+(6-r.grade)*(6-r.grade);return{sum:t,id:t<n?o:e.id}}),{sum:0,id:-1});return e[o.id+1]}(w);m(n)}}),[w]),(0,s.useEffect)((function(){return function(){n((0,ie.UK)(!1))}}),[]);var R=function(){return x(!Z)},z=(0,X.TA)({initialValues:{grade:""},validate:function(e){var r={};return e.grade||(r.grade="rate field is required"),r},onSubmit:function(e){R(),n((0,ie.hd)({card_id:v._id,grade:+e.grade})),z.resetForm()}});return(0,_.jsx)(_.Fragment,{children:u?(0,_.jsxs)("div",{className:ae.mainContainer,children:[(0,_.jsx)(re.J,{}),(0,_.jsxs)("div",{className:ae.learnContainer,children:[(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Question:"})," ",v&&v.question]}),(0,_.jsx)("br",{}),(0,_.jsxs)("p",{children:[" Number of attempts: ",v?v.shots:""]}),(0,_.jsx)("br",{}),Z?(0,_.jsxs)("div",{children:[(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Answer:"})," ",v&&v.answer]}),(0,_.jsx)("br",{}),(0,_.jsxs)("form",{onSubmit:z.handleSubmit,children:[(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(l.Z,{id:"demo-radio-buttons-group-label",children:"Rate yourself"}),(0,_.jsx)(P,(0,o.Z)((0,o.Z)({"aria-labelledby":"demo-radio-buttons-group-label"},z.getFieldProps("grade")),{},{children:pe.map((function(e){return(0,_.jsx)(F.Z,{value:e.grade,control:(0,_.jsx)(W,{}),label:e.title},e.grade)}))}))]}),(0,_.jsx)("div",{className:ae.ButtonContainer,children:(0,_.jsx)(Y.Z,{type:"submit",variant:"contained",disabled:!z.values.grade,children:"Next"})})]})]}):(0,_.jsx)("div",{className:ae.ButtonContainer,children:(0,_.jsx)(Y.Z,{type:"button",variant:"contained",onClick:R,children:"Show Answer"})})]}),j?(0,_.jsx)(oe.c,{active:j,children:(0,_.jsx)(me,{})}):""]}):(0,_.jsx)(ne.A,{})})}},6739:function(e,r,n){var o=n(1245),t=n(184);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},5311:function(e,r,n){var o=n(8949);r.Z=o.Z}}]);
//# sourceMappingURL=390.caaa2891.chunk.js.map